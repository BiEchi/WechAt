(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Chat_session-chat"],{"436d":function(s,t,i){"use strict";var e=i("df3c"),a=i.n(e);a.a},5649:function(s,t,i){"use strict";i.r(t);var e=i("8ba1"),a=i("9ee9");for(var n in a)"default"!==n&&function(s){i.d(t,s,(function(){return a[s]}))}(n);i("436d");var o,c=i("f0c5"),u=Object(c["a"])(a["default"],e["b"],e["c"],!1,null,"6a2a5578",null,!1,e["a"],o);t["default"]=u.exports},"8ba1":function(s,t,i){"use strict";var e;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return e}));var a=function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"public"},[i("v-uni-text",{staticClass:"public-text"},[s._v("Public Sessions")])],1),s._l(s.pub_sessions,(function(t){return i("v-uni-view",{key:t["Session_id"]},[i("div",{staticClass:"flex-container"},[i("div",{staticClass:"card"},[i("img",{staticClass:"profile",attrs:{src:"/static/logo.png",alt:"img1"}})]),i("div",{staticClass:"texting"},[i("h4",{staticClass:"name"},[i("b",[s._v(s._s(t["Chat_name"]))])]),i("p",{staticClass:"chatting"},[s._v(s._s(s.pub_msg))])])])])})),i("v-uni-view",{staticClass:"private"},[i("v-uni-text",{staticClass:"private-text"},[s._v("Private Sessions")])],1),s._l(s.pri_sessions,(function(t){return i("v-uni-view",{key:t["Session_pri_id"]},[i("div",{staticClass:"flex-container"},[i("div",{staticClass:"card"},[i("img",{staticClass:"profile",attrs:{src:"/static/logo.png",alt:"img1"}})]),i("div",{staticClass:"texting"},[i("h4",{staticClass:"name"},[i("b",[s._v(s._s(t["User_name"]))])]),i("p",{staticClass:"chatting"},[s._v(s._s(s.pri_msg))])])])])})),s._l(s.pri_sessions2,(function(t){return i("v-uni-view",{key:t["Session_pri_id"]},[i("div",{staticClass:"flex-container"},[i("div",{staticClass:"card"},[i("img",{staticClass:"profile",attrs:{src:"/static/logo.png",alt:"img1"}})]),i("div",{staticClass:"texting"},[i("h4",{staticClass:"name"},[i("b",[s._v(s._s(t["User_name"]))])]),i("p",{staticClass:"chatting"},[s._v(s._s(s.pri_msg))])])])])}))],2)},n=[]},"9ee9":function(s,t,i){"use strict";i.r(t);var e=i("ba07"),a=i.n(e);for(var n in e)"default"!==n&&function(s){i.d(t,s,(function(){return e[s]}))}(n);t["default"]=a.a},ba07:function(s,t,i){"use strict";(function(s,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;getApp().globalData.user_id;var e={data:function(){return{pub_sessions:[],pri_sessions:[],pri_sessions2:[],pub_msg:"Hello",pri_msg:"Hello",pub_msgs:[],pri_msgs:[],pri_msgs2:[]}},onLoad:function(){this.start_getting_session(),this.start_getting_msg()},methods:{jumpToMessage:function(){},start_getting_session:function(){var t=this;s.callFunction({name:"query",data:{sentence:"SELECT * FROM Joined NATURAL JOIN Chat_session WHERE User_id = ?",arguments:[this.my_user_id]},success:function(s){t.pub_sessions=s.result,i("log",s.result," at pages/Chat_session/chat.vue:87"),i("log","kill me in uniCloud success 1"," at pages/Chat_session/chat.vue:88")},fail:function(s){i("log",s," at pages/Chat_session/chat.vue:91")}}),s.callFunction({name:"query",data:{sentence:"SELECT * FROM Joined_pri JOIN Chat_user ON User2_id = User_id WHERE User1_id = ? ",arguments:[this.my_user_id]},success:function(s){t.pri_sessions=s.result,i("log","kill me in uniCloud success 2"," at pages/Chat_session/chat.vue:103")},fail:function(s){i("log",s," at pages/Chat_session/chat.vue:106")}}),s.callFunction({name:"query",data:{sentence:"SELECT * FROM Joined_pri JOIN Chat_user ON User1_id = User_id WHERE User2_id = ?",arguments:[this.my_user_id]},success:function(s){t.pri_sessions2=s.result,i("log","kill me in uniCloud success 3"," at pages/Chat_session/chat.vue:118")},fail:function(s){i("log",s," at pages/Chat_session/chat.vue:121")}})},start_getting_msg:function(){var t=this;this.my_user_id=getApp().globalData.user_id,i("log","my id is: "+this.my_user_id," at pages/Chat_session/chat.vue:127"),s.callFunction({name:"query",data:{sentence:"SELECT Session_id, Msg_Content FROM Contain c NATURAL JOIN Msg m NATURAL JOIN ( SELECT Session_id, MAX(Msg_time) AS MAXT FROM Joined NATURAL JOIN Chat_session NATURAL JOIN Contain NATURAL JOIN Msg WHERE User_id = 1 GROUP BY Session_id) AS TEMP WHERE TEMP.Session_id = c.Session_id AND m.Msg_time = TEMP.MAXT ",arguments:[this.my_user_id]},success:function(s){t.pub_msgs=s.result,i("log",t.pub_msgs," at pages/Chat_session/chat.vue:138"),i("log","kill me in uniCloud success 11"," at pages/Chat_session/chat.vue:139")},fail:function(s){i("log",s," at pages/Chat_session/chat.vue:142")}})}}};t.default=e}).call(this,i("a9ff")["default"],i("0de9")["log"])},df3c:function(s,t,i){var e=i("f731");"string"===typeof e&&(e=[[s.i,e,""]]),e.locals&&(s.exports=e.locals);var a=i("4f06").default;a("5c7a35ac",e,!0,{sourceMap:!1,shadowMode:!1})},f731:function(s,t,i){var e=i("24fb");t=e(!1),t.push([s.i,"uni-text[data-v-6a2a5578]{font-size:20px;color:#2f4f4f}.flex-container[data-v-6a2a5578]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.card[data-v-6a2a5578]{float:left;padding:6px}.profile[data-v-6a2a5578]{-webkit-box-flex:30%;-webkit-flex:30%;flex:30%}.name[data-v-6a2a5578]{-webkit-box-flex:70%;-webkit-flex:70%;flex:70%;padding:.3em;clear:right}.chatting[data-v-6a2a5578]{float:left;padding:10px 0 0 3px}",""]),s.exports=t}}]);